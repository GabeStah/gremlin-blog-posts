<!doctype html>
<!--
  Minimal Mistakes Jekyll Theme 4.13.0 by Michael Rose
  Copyright 2013-2018 Michael Rose - mademistakes.com | @mmistakes
  Free for personal and commercial use under the MIT license
  https://github.com/mmistakes/minimal-mistakes/blob/master/LICENSE.txt
-->
<html lang="en" class="no-js">
  <head>
    <meta charset="utf-8">

<!-- begin _includes/seo.html --><title>Create a Serverless Twitter Bot with Airbrake and AWS Lambda - Part 1 - Gremlin: Blog Posts</title>
<meta name="description" content="How to create a serverless Twitter bot with Airbrake and AWS Lambda.">



<meta property="og:type" content="article">
<meta property="og:locale" content="en_US">
<meta property="og:site_name" content="Gremlin: Blog Posts">
<meta property="og:title" content="Create a Serverless Twitter Bot with Airbrake and AWS Lambda - Part 1">
<meta property="og:url" content="http://localhost:4000/gremlin-blog-posts/serverless-twitter-bot-aws-lambda/">


  <meta property="og:description" content="How to create a serverless Twitter bot with Airbrake and AWS Lambda.">







  <meta property="article:published_time" content="2018-10-19T00:00:00-07:00">





  

  


<link rel="canonical" href="http://localhost:4000/gremlin-blog-posts/serverless-twitter-bot-aws-lambda/">







  <script type="application/ld+json">
    {
      "@context": "http://schema.org",
      "@type": "Person",
      "name": "Gabe Wyatt",
      "url": "http://localhost:4000/gremlin-blog-posts",
      "sameAs": null
    }
  </script>







<!-- end _includes/seo.html -->


<link href="/gremlin-blog-posts/feed.xml" type="application/atom+xml" rel="alternate" title="Gremlin: Blog Posts Feed">

<!-- http://t.co/dKP3o1e -->
<meta name="HandheldFriendly" content="True">
<meta name="MobileOptimized" content="320">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<script>
  document.documentElement.className = document.documentElement.className.replace(/\bno-js\b/g, '') + ' js ';
</script>

<!-- For all browsers -->
<link rel="stylesheet" href="/gremlin-blog-posts/assets/css/main.css">

<!--[if lte IE 9]>
  <style>
    /* old IE unsupported flexbox fixes */
    .greedy-nav .site-title {
      padding-right: 3em;
    }
    .greedy-nav button {
      position: absolute;
      top: 0;
      right: 0;
      height: 100%;
    }
  </style>
<![endif]-->


    <!-- start custom head snippets -->
<link rel="icon" href="/gremlin-blog-posts/assets/images/favicon.ico" />
<meta name="robots" content="noindex, nofollow" />
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css"/>
<!-- insert favicons. use https://realfavicongenerator.net/ -->

<!-- end custom head snippets -->

  </head>

  <body class="layout--single">

    <!--[if lt IE 9]>
<div class="notice--danger align-center" style="margin: 0;">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience.</div>
<![endif]-->

    <div class="masthead">
  <div class="masthead__inner-wrap">
    <div class="masthead__menu">
      <nav id="site-nav" class="greedy-nav">
        <a class="site-title" href="/gremlin-blog-posts/">Gremlin: Blog Posts</a>
        <ul class="visible-links"><li class="masthead__menu-item">
              <a href="/gremlin-blog-posts/notes-to-editor">Notes to the Editor</a>
            </li></ul>
        
        <button class="greedy-nav__toggle hidden" type="button">
          <span class="visually-hidden">Toggle menu</span>
          <div class="navicon"></div>
        </button>
        <ul class="hidden-links hidden"></ul>
      </nav>
    </div>
  </div>
</div>


    <div class="initial-content">
      


  
    



<nav class="breadcrumbs">
  <ol itemscope itemtype="http://schema.org/BreadcrumbList">
    
    
    
      
        <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
          <a href="http://localhost:4000/gremlin-blog-posts/" itemprop="item"><span itemprop="name">Home</span></a>
          <meta itemprop="position" content="1">
        </li>
        <span class="sep">/</span>
      
      
        <li class="current">Create a Serverless Twitter Bot with Airbrake and AWS Lambda - Part 1</li>
      
    
  </ol>
</nav>

  


<div id="main" role="main">
  
  <div class="sidebar sticky">
  
  
    
      
      
      
    
    
      

<nav class="nav__list">
  
  <input id="ac-toc" name="accordion-toc" type="checkbox">
  <label for="ac-toc">Toggle menu</label>
  <ul class="nav__items">
    
      <li>
        
          
          

          <a href="/gremlin-blog-posts/categories"><span class="nav__sub-title">Categories</span></a>
        

        
        <ul>
          
            
            

            
            

            <li><a href="/gremlin-blog-posts/categories/#chaos-engineering" class="">Chaos Engineering</a></li>
          
        </ul>
        
      </li>
    
      <li>
        
          
          

          <a href="/gremlin-blog-posts/tags"><span class="nav__sub-title">Tags</span></a>
        

        
      </li>
    
  </ul>
</nav>
    
  
  </div>


  <article class="page" itemscope itemtype="http://schema.org/CreativeWork">
    <meta itemprop="headline" content="Create a Serverless Twitter Bot with Airbrake and AWS Lambda - Part 1">
    <meta itemprop="description" content="How to create a serverless Twitter bot with Airbrake and AWS Lambda.">
    <meta itemprop="datePublished" content="October 19, 2018">
    

    <div class="page__inner-wrap">
      
        <header>
          <h1 id="page-title" class="page__title" itemprop="headline">Create a Serverless Twitter Bot with Airbrake and AWS Lambda - Part 1
</h1>
          
            <p class="page__meta"><i class="far fa-clock" aria-hidden="true"></i> 




  6 minute read
</p>
          
        </header>
      

      <section class="page__content" itemprop="text">
        
          <aside class="sidebar__right sticky">
            <nav class="toc">
              <header><h4 class="nav__title">
<i class="fas fa-file-alt"></i> On this page</h4></header>
              <ul class="toc__menu">
  <li><a href="#initialize-your-project">Initialize Your Project</a></li>
  <li><a href="#working-with-secret-api-credentials">Working with Secret API Credentials</a></li>
  <li><a href="#creating-a-basic-app">Creating a Basic App</a></li>
  <li><a href="#making-your-bot-more-interesting">Making Your Bot More Interesting</a></li>
  <li><a href="#conclusion">Conclusion</a></li>
</ul>
            </nav>
          </aside>
        
        <p>In this series, you’ll learn how to create a fully-automated, NodeJS, serverless Twitter bot that can tweet links to posts from your favorite blog or RSS feed.</p>

<p>In part one of our three-part series, you’ll create a bot and configure it to manually create tweets.  In <a href="https://airbrake.io/blog/nodejs/serverless-twitter-bot-airbrake-lambda-part-2" target="_blank" rel="noopener noreferrer">part two</a> you’ll learn how to add real-time error monitoring by integrating <a class="js-cta-utm" href="https://airbrake.io/languages/nodejs-error-monitoring?utm_source=blog&amp;utm_medium=end-post&amp;utm_campaign=airbrake-serverless-twitter-bot" target="_blank" rel="noopener noreferrer">Airbrake’s Node.js</a> software.  Finally, <a href="https://airbrake.io/blog/nodejs/serverless-twitter-bot-airbrake-lambda-part-3" target="_blank" rel="noopener noreferrer">part three</a> will walk you through the process of automating your bot by integrating it into the serverless AWS Lambda platform.  Let’s get to it!</p>

<h2 id="initialize-your-project">Initialize Your Project</h2>

<ol>
  <li>
    <p>Create a new Node project.</p>

    <div class="language-bash highlighter-rouge">
<div class="highlight"><pre class="highlight"><code> npm init
</code></pre></div>    </div>
  </li>
  <li>
    <p>Install the <a href="https://www.npmjs.com/package/twitter" target="_blank" rel="noopener noreferrer"><code class="highlighter-rouge">twitter</code></a> NPM package, which will simplify communication with the Twitter API.</p>

    <div class="language-bash highlighter-rouge">
<div class="highlight"><pre class="highlight"><code> npm <span class="nb">install </span>twitter <span class="nt">--save</span>
</code></pre></div>    </div>
  </li>
</ol>

<h2 id="working-with-secret-api-credentials">Working with Secret API Credentials</h2>

<ol>
  <li>
    <p>To obtain a set of Twitter API credentials log into your Twitter account and navigate to <a href="https://apps.twitter.com/" target="_blank" rel="noopener noreferrer">https://apps.twitter.com/</a>.</p>
  </li>
  <li>
    <p>Click <code class="highlighter-rouge">Create New App</code> then fill out the form.  For example:</p>

    <ul>
      <li>
<code class="highlighter-rouge">Name</code>: AirbrakeArticles</li>
      <li>
<code class="highlighter-rouge">Description</code>: Tweeting random Airbrake.io articles!</li>
      <li>
<code class="highlighter-rouge">Website</code>: https://github.com/GabeStah/twitter-bot</li>
    </ul>
  </li>
  <li>
    <p>Agree to the terms of use to create your app.</p>
  </li>
  <li>
    <p>Click on the <code class="highlighter-rouge">Keys and Access Tokens</code> tab at the top, then click <code class="highlighter-rouge">Create my access token</code> at the bottom.  Per the <a href="https://www.npmjs.com/package/twitter" target="_blank" rel="noopener noreferrer">Twitter NPM</a> documentation, you’ll need the <code class="highlighter-rouge">consumer_key</code>, <code class="highlighter-rouge">consumer_secret</code>, <code class="highlighter-rouge">access_token_key</code>, and <code class="highlighter-rouge">access_token_secret</code> values from Twitter.</p>
  </li>
  <li>
    <p>Open the <code class="highlighter-rouge">twitter-api-credentials.js</code> and paste the following template into it, adding your own credentials into each field.</p>

    <div class="language-js highlighter-rouge">
<div class="highlight"><pre class="highlight"><code> <span class="c1">// twitter-api-credentials.js</span>
 <span class="nx">module</span><span class="p">.</span><span class="nx">exports</span> <span class="o">=</span> <span class="p">{</span>
     <span class="na">consumer_key</span><span class="p">:</span> <span class="s2">""</span><span class="p">,</span>
     <span class="na">consumer_secret</span><span class="p">:</span> <span class="s2">""</span><span class="p">,</span>
     <span class="na">access_token_key</span><span class="p">:</span> <span class="s2">""</span><span class="p">,</span>
     <span class="na">access_token_secret</span><span class="p">:</span> <span class="s2">""</span>
 <span class="p">};</span>
</code></pre></div>    </div>
  </li>
  <li>
    <p>Finally, to avoid publicly exposing your Twitter authentication API keys, add the <code class="highlighter-rouge">twitter-api-credentials.js</code> file to your <a href="https://git-scm.com/docs/gitignore" target="_blank" rel="noopener noreferrer"><code class="highlighter-rouge">.gitignore</code></a> file.</p>

    <div class="language-bash highlighter-rouge">
<div class="highlight"><pre class="highlight"><code> <span class="nb">echo</span> <span class="s2">"twitter-api-credentials.js"</span> <span class="o">&gt;&gt;</span> .gitignore
</code></pre></div>    </div>
  </li>
</ol>

<h2 id="creating-a-basic-app">Creating a Basic App</h2>

<p>The next step to properly test your application logic is to ensure that the Twitter API connection can be established.</p>

<ol>
  <li>
    <p>Start by creating the base <code class="highlighter-rouge">index.js</code> application file for your Node project.</p>

    <div class="language-bash highlighter-rouge">
<div class="highlight"><pre class="highlight"><code> <span class="nb">touch </span>index.js
 nano index.js
</code></pre></div>    </div>
  </li>
  <li>
    <p><code class="highlighter-rouge">Require</code> the <code class="highlighter-rouge">twitter-api-credentials.js</code> credentials file, along with the <code class="highlighter-rouge">twitter</code> NPM module.  Additionally, instantiate a new <code class="highlighter-rouge">Twitter</code> object and pass the generated credentials.</p>

    <div class="language-js highlighter-rouge">
<div class="highlight"><pre class="highlight"><code> <span class="c1">// index.js</span>
 <span class="kd">const</span> <span class="nx">twitter_credentials</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'./twitter-api-credentials'</span><span class="p">);</span>
 <span class="kd">const</span> <span class="nx">Twitter</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'twitter'</span><span class="p">);</span>

 <span class="c1">// Use exported secret credentials.</span>
 <span class="kd">let</span> <span class="nx">twitter</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Twitter</span><span class="p">(</span><span class="nx">twitter_credentials</span><span class="p">);</span>
</code></pre></div>    </div>

    <p class="notice--tip">The <code class="highlighter-rouge">twitter</code> NPM module provides convenience methods for sending <code class="highlighter-rouge">GET</code> and <code class="highlighter-rouge">POST</code> HTTP method requests to the <a href="https://developer.twitter.com/en/docs" target="_blank" rel="noopener noreferrer">Twitter API</a>.  For example, if you wish to post a tweet you must send a <code class="highlighter-rouge">POST</code> request to the <code class="highlighter-rouge">statuses/update</code> API endpoint, as shown in the <a href="https://developer.twitter.com/en/docs/tweets/post-and-engage/api-reference/post-statuses-update" target="_blank" rel="noopener noreferrer">official documentation</a>.  Check out <a href="https://developer.twitter.com/en/docs/basics/getting-started" target="_blank" rel="noopener noreferrer">Twitter API Getting Started</a> for more details.</p>
  </li>
  <li>
    <p>To perform a simple test tweet of <code class="highlighter-rouge">"Am I a robot?"</code> add the following to <code class="highlighter-rouge">index.js</code>.</p>

    <div class="language-js highlighter-rouge">
<div class="highlight"><pre class="highlight"><code> <span class="c1">// Perform a test tweet.</span>
 <span class="nx">twitter</span><span class="p">.</span><span class="nx">post</span><span class="p">(</span>
     <span class="s1">'statuses/update'</span><span class="p">,</span>
     <span class="p">{</span>
         <span class="na">status</span><span class="p">:</span> <span class="s1">'Am I a robot?'</span>
     <span class="p">},</span>
     <span class="kd">function</span><span class="p">(</span><span class="nx">error</span><span class="p">,</span> <span class="nx">tweet</span><span class="p">,</span> <span class="nx">response</span><span class="p">)</span> <span class="p">{</span>
         <span class="k">if</span><span class="p">(</span><span class="nx">error</span><span class="p">)</span> <span class="p">{</span>
             <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">error</span><span class="p">);</span>
             <span class="k">throw</span> <span class="nx">error</span><span class="p">;</span>
         <span class="p">}</span>
         <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">'---- TWEET ----'</span><span class="p">);</span>
         <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">tweet</span><span class="p">);</span>
         <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">'---- RESPONSE ----'</span><span class="p">);</span>
         <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">response</span><span class="p">);</span>
     <span class="p">}</span>
 <span class="p">);</span>
</code></pre></div>    </div>
  </li>
  <li>
    <p>Verify that your Node app works as expected.  If everything was setup correctly you’ll see the output in the console log to confirm it works.  You can also refresh your Twitter account page to see the new <a href="https://twitter.com/AirbrakeArticle/status/946880037424209921" target="_blank" rel="noopener noreferrer"><code class="highlighter-rouge">"Am I a robot?"</code> tweet</a>.</p>

    <div class="language-bash highlighter-rouge">
<div class="highlight"><pre class="highlight"><code> <span class="nv">$ </span>node index.js
 <span class="o">{</span> created_at: <span class="s1">'Fri Dec 29 23:12:53 +0000 2017'</span>,
 <span class="nb">id</span>: 946881740039057400,
 id_str: <span class="s1">'946881740039057408'</span>,
 text: <span class="s1">'Am I a robot?'</span>,
 truncated: <span class="nb">false</span>,
 ...
</code></pre></div>    </div>
  </li>
</ol>

<h2 id="making-your-bot-more-interesting">Making Your Bot More Interesting</h2>

<p>Alright, you’ve got a working shell of a bot, but it doesn’t do anything very exciting.  In this section, you’ll configure the bot to tweet links to random posts obtained from an RSS, Atom, or RDF feed.  The example bot uses the <a href="https://airbrake.io/blog/feed/atom" target="_blank" rel="noopener noreferrer">https://airbrake.io/blog/feed/atom</a> feed, but you may use any valid feed URL.</p>

<ol>
  <li>
    <p>Start by installing the <a href="https://www.npmjs.com/package/feedparser" target="_blank" rel="noopener noreferrer">feedparser</a> NPM module, which simplifies the process of retrieving the latest feed data.</p>

    <div class="language-bash highlighter-rouge">
<div class="highlight"><pre class="highlight"><code> npm <span class="nb">install</span> <span class="nt">--save</span> feedparser
</code></pre></div>    </div>
  </li>
  <li>
    <p>Modify <code class="highlighter-rouge">index.js</code> to <code class="highlighter-rouge">require</code> the <code class="highlighter-rouge">feedparser</code> and <code class="highlighter-rouge">request</code> modules.  The <code class="highlighter-rouge">index.js</code> file should look something like this, with the URL to your desired Atom feed.</p>

    <div class="language-js highlighter-rouge">
<div class="highlight"><pre class="highlight"><code> <span class="c1">// index.js</span>
 <span class="kd">const</span> <span class="nx">FeedParser</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'feedparser'</span><span class="p">);</span>
 <span class="kd">const</span> <span class="nx">request</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'request'</span><span class="p">);</span>
 <span class="kd">const</span> <span class="nx">twitter_credentials</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'./twitter-api-credentials'</span><span class="p">);</span>
 <span class="kd">const</span> <span class="nx">Twitter</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'twitter'</span><span class="p">);</span>

 <span class="kd">let</span> <span class="nx">feedparser</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">FeedParser</span><span class="p">();</span>
 <span class="kd">let</span> <span class="nx">feed</span> <span class="o">=</span> <span class="nx">request</span><span class="p">(</span><span class="s1">'https://airbrake.io/blog/feed/atom'</span><span class="p">);</span>

 <span class="c1">// Use exported secret credentials.</span>
 <span class="kd">let</span> <span class="nx">twitter</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Twitter</span><span class="p">(</span><span class="nx">twitter_credentials</span><span class="p">);</span>

 <span class="c1">// Article collection.</span>
 <span class="kd">let</span> <span class="nx">articles</span> <span class="o">=</span> <span class="p">[];</span>
</code></pre></div>    </div>
  </li>
  <li>
    <p>Because the request is asynchronous the bot needs to respond to a few different events to process the incoming feed request, so append the following to <code class="highlighter-rouge">index.js</code>.</p>

    <div class="language-js highlighter-rouge">
<div class="highlight"><pre class="highlight"><code> <span class="cm">/**
 * Fires when feed request receives a response from server.
 */</span>
 <span class="nx">feed</span><span class="p">.</span><span class="nx">on</span><span class="p">(</span><span class="s1">'response'</span><span class="p">,</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">response</span><span class="p">)</span> <span class="p">{</span>
     <span class="k">if</span> <span class="p">(</span><span class="nx">response</span><span class="p">.</span><span class="nx">statusCode</span> <span class="o">!==</span> <span class="mi">200</span><span class="p">)</span> <span class="p">{</span>
         <span class="k">this</span><span class="p">.</span><span class="nx">emit</span><span class="p">(</span><span class="s1">'error'</span><span class="p">,</span> <span class="k">new</span> <span class="nb">Error</span><span class="p">(</span><span class="s1">'Bad status code'</span><span class="p">));</span>
     <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
         <span class="c1">// Pipes request to feedparser for processing.</span>
         <span class="k">this</span><span class="p">.</span><span class="nx">pipe</span><span class="p">(</span><span class="nx">feedparser</span><span class="p">);</span>
     <span class="p">}</span>
 <span class="p">});</span>

 <span class="cm">/**
 * Invoked when feedparser completes processing request.
 */</span>
 <span class="nx">feedparser</span><span class="p">.</span><span class="nx">on</span><span class="p">(</span><span class="s1">'end'</span><span class="p">,</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
     <span class="nx">tweetRandomArticle</span><span class="p">(</span><span class="nx">articles</span><span class="p">);</span>
 <span class="p">});</span>

 <span class="cm">/**
 * Executes when feedparser contains readable stream data.
 */</span>
 <span class="nx">feedparser</span><span class="p">.</span><span class="nx">on</span><span class="p">(</span><span class="s1">'readable'</span><span class="p">,</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
     <span class="kd">let</span> <span class="nx">article</span><span class="p">;</span>

     <span class="c1">// Iterate through all items in stream.</span>
     <span class="k">while</span> <span class="p">(</span><span class="nx">article</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">read</span><span class="p">())</span> <span class="p">{</span>
         <span class="c1">// Output each Article to console.</span>
         <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">`Gathered '</span><span class="p">${</span><span class="nx">article</span><span class="p">.</span><span class="nx">title</span><span class="p">}</span><span class="s2">' published </span><span class="p">${</span><span class="nx">article</span><span class="p">.</span><span class="nx">date</span><span class="p">}</span><span class="s2">`</span><span class="p">);</span>
         <span class="c1">// Add Article to collection.</span>
         <span class="nx">articles</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="nx">article</span><span class="p">);</span>
     <span class="p">}</span>
 <span class="p">});</span>
</code></pre></div>    </div>
  </li>
  <li>
    <p>The <code class="highlighter-rouge">tweetArticle(article)</code> and <code class="highlighter-rouge">tweetRandomArticle()</code> helper functions act as simple wrappers for calling <code class="highlighter-rouge">twitter</code> module methods to send a <code class="highlighter-rouge">POST</code> request to the <code class="highlighter-rouge">statuses/update</code> API endpoint.</p>

    <div class="language-js highlighter-rouge">
<div class="highlight"><pre class="highlight"><code> <span class="cm">/**
 * Tweet the passed Article object.
 *
 * @param article Article to be tweeted.
 */</span>
 <span class="kd">function</span> <span class="nx">tweetArticle</span><span class="p">(</span><span class="nx">article</span><span class="p">)</span> <span class="p">{</span>
     <span class="k">if</span> <span class="p">(</span><span class="nx">article</span> <span class="o">==</span> <span class="kc">null</span><span class="p">)</span> <span class="k">return</span><span class="p">;</span>
     <span class="nx">twitter</span><span class="p">.</span><span class="nx">post</span><span class="p">(</span>
         <span class="s1">'statuses/update'</span><span class="p">,</span>
         <span class="p">{</span>
             <span class="na">status</span><span class="p">:</span> <span class="s2">`</span><span class="p">${</span><span class="nx">article</span><span class="p">.</span><span class="nx">title</span><span class="p">}</span><span class="s2"> </span><span class="p">${</span><span class="nx">article</span><span class="p">.</span><span class="nx">link</span><span class="p">}</span><span class="s2">`</span>
         <span class="p">},</span>
         <span class="kd">function</span><span class="p">(</span><span class="nx">error</span><span class="p">,</span> <span class="nx">tweet</span><span class="p">,</span> <span class="nx">response</span><span class="p">)</span> <span class="p">{</span>
             <span class="k">if</span><span class="p">(</span><span class="nx">error</span><span class="p">)</span> <span class="p">{</span>
                 <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">error</span><span class="p">);</span>
                 <span class="k">throw</span> <span class="nx">error</span><span class="p">;</span>
             <span class="p">}</span>
             <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">'---- TWEETED ARTICLE ----'</span><span class="p">);</span>
             <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">tweet</span><span class="p">);</span>
         <span class="p">}</span>
     <span class="p">);</span>
 <span class="p">}</span>

 <span class="cm">/**
 * Tweet a random Article.
 */</span>
 <span class="kd">function</span> <span class="nx">tweetRandomArticle</span><span class="p">()</span> <span class="p">{</span>
     <span class="c1">// Tweet a random article.</span>
     <span class="nx">tweetArticle</span><span class="p">(</span><span class="nx">articles</span><span class="p">[</span><span class="nb">Math</span><span class="p">.</span><span class="nx">floor</span><span class="p">(</span><span class="nb">Math</span><span class="p">.</span><span class="nx">random</span><span class="p">()</span><span class="o">*</span><span class="nx">articles</span><span class="p">.</span><span class="nx">length</span><span class="p">)])</span>
 <span class="p">}</span>
</code></pre></div>    </div>
  </li>
</ol>

<p>Everything is now setup, so it’s time to run your application and see it in action.</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>node index.js
Gathered <span class="s1">'410 Gone Error: What It Is and How to Fix It'</span> published Thu Dec 28 2017 19:09:32 GMT-0800 <span class="o">(</span>PST<span class="o">)</span>
Gathered <span class="s1">'Python Exception Handling &amp;#8211; EOFError'</span> published Wed Dec 27 2017 19:21:25 GMT-0800 <span class="o">(</span>PST<span class="o">)</span>
Gathered <span class="s1">'Techniques for Preventing Software Bugs'</span> published Tue Dec 26 2017 14:23:52 GMT-0800 <span class="o">(</span>PST<span class="o">)</span>
...
<span class="nt">----</span> TWEETED ARTICLE <span class="nt">----</span>
<span class="o">{</span> created_at: <span class="s1">'Sat Dec 30 00:10:26 +0000 2017'</span>,
  <span class="nb">id</span>: 946896220181561300,
  id_str: <span class="s1">'946896220181561344'</span>,
  text: <span class="s1">'303 See Other: What It Is and How to Fix It https://t.co/UaIf0uYeUS'</span>,
...
</code></pre></div></div>

<p>Awesome!  The bot parsed the feed, captured the latest posts, selected a random post, and automatically tweeted the post title and URL (e.g. <a href="https://twitter.com/AirbrakeArticle/status/946896220181561344" target="_blank" rel="noopener noreferrer">AirbrakeArticle</a>).</p>

<h2 id="conclusion">Conclusion</h2>

<p>You now have a basic Twitter bot up and running.  Next week’s post will show you how to refine your bot and make it better suited to the real-world by implementing real-time error monitoring via <a class="js-cta-utm" href="https://airbrake.io/languages/nodejs-error-monitoring?utm_source=blog&amp;utm_medium=end-post&amp;utm_campaign=airbrake-serverless-twitter-bot" target="_blank" rel="noopener noreferrer">Airbrake’s NodeJS</a> package.  After that, you’ll setup AWS Lambda so your bot can run automatically and serverlessly.  Stay tuned!</p>

        
      </section>

      <footer class="page__meta">
        
        


        
          <p class="page__date"><strong><i class="fas fa-fw fa-calendar-alt" aria-hidden="true"></i> Updated:</strong> <time datetime="2018-10-19T00:00:00-07:00">October 19, 2018</time></p>
        
      </footer>

      

      
  <nav class="pagination">
    
      <a href="/gremlin-blog-posts/chaos-engineering/chaos-engineering-through-staged-resiliency-stage-2/" class="pagination--pager" title="Chaos Engineering Through Staged Resiliency - Stage 2
">Previous</a>
    
    
      <a href="#" class="pagination--pager disabled">Next</a>
    
  </nav>

    </div>

    
  </article>

  
  
    <div class="page__related">
      <h4 class="page__related-title">You may also enjoy</h4>
      <div class="grid__wrapper">
        
          



<div class="grid__item">
  <article class="archive__item" itemscope itemtype="http://schema.org/CreativeWork">
    
    <h2 class="archive__item-title" itemprop="headline">
      
        <a href="/gremlin-blog-posts/chaos-engineering/chaos-engineering-through-staged-resiliency-stage-2/" rel="permalink">Chaos Engineering Through Staged Resiliency - Stage 2
</a>
      
    </h2>
    
      <p class="page__meta"><i class="far fa-clock" aria-hidden="true"></i> 




  2 minute read
</p>
    
    <p class="archive__item-excerpt" itemprop="description">
</p>
  </article>
</div>
        
          



<div class="grid__item">
  <article class="archive__item" itemscope itemtype="http://schema.org/CreativeWork">
    
    <h2 class="archive__item-title" itemprop="headline">
      
        <a href="/gremlin-blog-posts/chaos-engineering/chaos-engineering-through-staged-resiliency-stage-1/" rel="permalink">Chaos Engineering Through Staged Resiliency - Stage 1
</a>
      
    </h2>
    
      <p class="page__meta"><i class="far fa-clock" aria-hidden="true"></i> 




  8 minute read
</p>
    
    <p class="archive__item-excerpt" itemprop="description">
</p>
  </article>
</div>
        
          



<div class="grid__item">
  <article class="archive__item" itemscope itemtype="http://schema.org/CreativeWork">
    
    <h2 class="archive__item-title" itemprop="headline">
      
        <a href="/gremlin-blog-posts/gremlin/content-pitches/" rel="permalink">Content Pitches
</a>
      
    </h2>
    
      <p class="page__meta"><i class="far fa-clock" aria-hidden="true"></i> 




  11 minute read
</p>
    
    <p class="archive__item-excerpt" itemprop="description">Content pitches and ideas for Gremlin.
</p>
  </article>
</div>
        
          



<div class="grid__item">
  <article class="archive__item" itemscope itemtype="http://schema.org/CreativeWork">
    
    <h2 class="archive__item-title" itemprop="headline">
      
        <a href="/gremlin-blog-posts/chaos-engineering/migrating-cloud-chaotic-embrace/" rel="permalink">Migrating to the Cloud Is Chaotic. Embrace It.
</a>
      
    </h2>
    
      <p class="page__meta"><i class="far fa-clock" aria-hidden="true"></i> 




  24 minute read
</p>
    
    <p class="archive__item-excerpt" itemprop="description">Why organizations planning to migrate to the cloud should embrace Chaos Engineering as a thoughtful strategy to avoid pain down the road.
</p>
  </article>
</div>
        
      </div>
    </div>
  
  
</div>
    </div>

    

    <div class="page__footer">
      <footer>
        
        <div class="page__footer-follow">
  <ul class="social-icons">
    
      <li><strong>Follow:</strong></li>
    
    
    
    
    
    
    <li><a href="/gremlin-blog-posts/feed.xml"><i class="fas fa-fw fa-rss-square" aria-hidden="true"></i> Feed</a></li>
  </ul>
</div>

<div class="page__footer-copyright">© 2018 Gabe Wyatt</div>

      </footer>
    </div>

    
  <script src="/gremlin-blog-posts/assets/js/main.min.js"></script>
  <script src="https://use.fontawesome.com/releases/v5.2.0/js/all.js"></script>








  </body>
</html>