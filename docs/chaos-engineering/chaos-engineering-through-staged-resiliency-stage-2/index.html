<!doctype html>
<!--
  Minimal Mistakes Jekyll Theme 4.13.0 by Michael Rose
  Copyright 2013-2018 Michael Rose - mademistakes.com | @mmistakes
  Free for personal and commercial use under the MIT license
  https://github.com/mmistakes/minimal-mistakes/blob/master/LICENSE.txt
-->
<html lang="en" class="no-js">
  <head>
    <meta charset="utf-8">

<!-- begin _includes/seo.html --><title>Chaos Engineering Through Staged Resiliency - Stage 2 - Gremlin: Blog Posts</title>
<meta name="description" content="An amazing website.">



<meta property="og:type" content="article">
<meta property="og:locale" content="en_US">
<meta property="og:site_name" content="Gremlin: Blog Posts">
<meta property="og:title" content="Chaos Engineering Through Staged Resiliency - Stage 2">
<meta property="og:url" content="http://localhost:4000/gremlin-blog-posts/chaos-engineering/chaos-engineering-through-staged-resiliency-stage-2/">


  <meta property="og:description" content="An amazing website.">







  <meta property="article:published_time" content="2018-10-11T00:00:00-07:00">





  

  


<link rel="canonical" href="http://localhost:4000/gremlin-blog-posts/chaos-engineering/chaos-engineering-through-staged-resiliency-stage-2/">







  <script type="application/ld+json">
    {
      "@context": "http://schema.org",
      "@type": "Person",
      "name": "Gabe Wyatt",
      "url": "http://localhost:4000/gremlin-blog-posts",
      "sameAs": null
    }
  </script>







<!-- end _includes/seo.html -->


<link href="/gremlin-blog-posts/feed.xml" type="application/atom+xml" rel="alternate" title="Gremlin: Blog Posts Feed">

<!-- http://t.co/dKP3o1e -->
<meta name="HandheldFriendly" content="True">
<meta name="MobileOptimized" content="320">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<script>
  document.documentElement.className = document.documentElement.className.replace(/\bno-js\b/g, '') + ' js ';
</script>

<!-- For all browsers -->
<link rel="stylesheet" href="/gremlin-blog-posts/assets/css/main.css">

<!--[if lte IE 9]>
  <style>
    /* old IE unsupported flexbox fixes */
    .greedy-nav .site-title {
      padding-right: 3em;
    }
    .greedy-nav button {
      position: absolute;
      top: 0;
      right: 0;
      height: 100%;
    }
  </style>
<![endif]-->


    <!-- start custom head snippets -->
<link rel="icon" href="/gremlin-blog-posts/assets/images/favicon.ico" />
<meta name="robots" content="noindex, nofollow" />
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css"/>
<!-- insert favicons. use https://realfavicongenerator.net/ -->

<!-- end custom head snippets -->

  </head>

  <body class="layout--single">

    <!--[if lt IE 9]>
<div class="notice--danger align-center" style="margin: 0;">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience.</div>
<![endif]-->

    <div class="masthead">
  <div class="masthead__inner-wrap">
    <div class="masthead__menu">
      <nav id="site-nav" class="greedy-nav">
        <a class="site-title" href="/gremlin-blog-posts/">Gremlin: Blog Posts</a>
        <ul class="visible-links"><li class="masthead__menu-item">
              <a href="/gremlin-blog-posts/notes-to-editor">Notes to the Editor</a>
            </li></ul>
        
        <button class="greedy-nav__toggle hidden" type="button">
          <span class="visually-hidden">Toggle menu</span>
          <div class="navicon"></div>
        </button>
        <ul class="hidden-links hidden"></ul>
      </nav>
    </div>
  </div>
</div>


    <div class="initial-content">
      


  
    



<nav class="breadcrumbs">
  <ol itemscope itemtype="http://schema.org/BreadcrumbList">
    
    
    
      
        <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
          <a href="http://localhost:4000/gremlin-blog-posts/" itemprop="item"><span itemprop="name">Home</span></a>
          <meta itemprop="position" content="1">
        </li>
        <span class="sep">/</span>
      
      
        
        <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
          <a href="/gremlin-blog-posts/categories/#chaos-engineering" itemprop="item"><span itemprop="name">Chaos engineering</span></a>
          <meta itemprop="position" content="2">
        </li>
        <span class="sep">/</span>
      
    
      
      
        <li class="current">Chaos Engineering Through Staged Resiliency - Stage 2</li>
      
    
  </ol>
</nav>

  


<div id="main" role="main">
  
  <div class="sidebar sticky">
  
  
    
      
      
      
    
    
      

<nav class="nav__list">
  
  <input id="ac-toc" name="accordion-toc" type="checkbox">
  <label for="ac-toc">Toggle menu</label>
  <ul class="nav__items">
    
      <li>
        
          
          

          <a href="/gremlin-blog-posts/categories"><span class="nav__sub-title">Categories</span></a>
        

        
        <ul>
          
            
            

            
            

            <li><a href="/gremlin-blog-posts/categories/#chaos-engineering" class="">Chaos Engineering</a></li>
          
        </ul>
        
      </li>
    
      <li>
        
          
          

          <a href="/gremlin-blog-posts/tags"><span class="nav__sub-title">Tags</span></a>
        

        
      </li>
    
  </ul>
</nav>
    
  
  </div>


  <article class="page" itemscope itemtype="http://schema.org/CreativeWork">
    <meta itemprop="headline" content="Chaos Engineering Through Staged Resiliency - Stage 2">
    <meta itemprop="description" content="">
    <meta itemprop="datePublished" content="October 11, 2018">
    

    <div class="page__inner-wrap">
      
        <header>
          <h1 id="page-title" class="page__title" itemprop="headline">Chaos Engineering Through Staged Resiliency - Stage 2
</h1>
          
            <p class="page__meta"><i class="far fa-clock" aria-hidden="true"></i> 




  14 minute read
</p>
          
        </header>
      

      <section class="page__content" itemprop="text">
        
          <aside class="sidebar__right sticky">
            <nav class="toc">
              <header><h4 class="nav__title">
<i class="fas fa-file-alt"></i> On this page</h4></header>
              <ul class="toc__menu">
  <li><a href="#prerequisites">Prerequisites</a></li>
  <li>
<a href="#perform-critical-dependency-failure-tests-in-non-production">Perform Critical Dependency Failure Tests in Non-Production</a>
    <ul>
      <li><a href="#manual-testing-is-okay">Manual Testing Is Okay</a></li>
    </ul>
  </li>
  <li><a href="#publish-test-results">Publish Test Results</a></li>
  <li>
<a href="#resiliency-stage-2-implementation-example">Resiliency Stage 2: Implementation Example</a>
    <ul>
      <li><a href="#adding-a-staging-app-environment">Adding a Staging App Environment</a></li>
      <li><a href="#configuring-multi-az-rds">Configuring Multi-AZ RDS</a></li>
      <li><a href="#amazon-s3-cross-region-replication">Amazon S3 Cross-Region Replication</a></li>
      <li><a href="#perform-critical-dependency-failure-tests-in-non-production-1">Perform Critical Dependency Failure Tests in Non-Production</a></li>
      <li><a href="#publish-test-results-1">Publish Test Results</a></li>
    </ul>
  </li>
  <li><a href="#resiliency-stage-2-completion">Resiliency Stage 2 Completion</a></li>
</ul>
            </nav>
          </aside>
        
        <p>In <a href="https://www.gremlin.com/blog/chaos-engineering-through-staged-resiliency-stage-1" target="_blank" rel="noopener noreferrer">Chaos Engineering Through Staged Resiliency - Stage 1</a> we explored how engineering teams at Walmart successfully identify and combat unexpected system failure using a series of “resiliency stages.”  We also demonstrated the process of going through <strong>Stage 1</strong> for the <strong>Bookstore</strong> API sample application.  We showed that completing <strong>Resiliency Stage 1</strong> requires the definition of a disaster recovery failover playbook, dependency failover playbooks, team-wide agreement on said playbooks, and the execution of a manual failover exercise.</p>

<p>In this second part we’ll dive into the components of <strong>Resiliency Stage 2</strong>, which focuses on critical dependency failure testing in non-production environments.</p>

<h2 id="prerequisites">Prerequisites</h2>

<ul>
  <li>Creation and agreement on <a href="https://www.gremlin.com/blog/chaos-engineering-through-staged-resiliency-stage-1#prerequisites" target="_blank" rel="noopener noreferrer">Disaster Recovery and Dependency Failover Playbooks</a>.</li>
  <li>Completion of <a href="https://www.gremlin.com/blog/chaos-engineering-through-staged-resiliency-stage-1" target="_blank" rel="noopener noreferrer">Resiliency Stage 1</a>.</li>
</ul>

<h2 id="perform-critical-dependency-failure-tests-in-non-production">Perform Critical Dependency Failure Tests in Non-Production</h2>

<p>The most important aspect of <strong>Resiliency Stage 2</strong> is testing the resilience of your systems when critical dependencies fail.  However, this early in the process the system can’t be expected to handle such failures in a production environment, so these tests should be performed in a non-production setting.</p>

<h3 id="manual-testing-is-okay">Manual Testing Is Okay</h3>

<p>Eventually, all experiments should be executed automatically, with little to no human intervention required.  However, during <strong>Resiliency Stage 2</strong> the team should feel comfortable performing manual tests.  The goal here isn’t to test the <em>automation</em> of the system, but rather to determine the outcome and system-wide impact whenever a critical dependency fails.</p>

<h2 id="publish-test-results">Publish Test Results</h2>

<p>After every critical dependency failure test is performed the results should be globally published to the entire team.  This allows every team member to closely scrutinize the outcome of a given test.  This encourages feedback and communication, which naturally provides insightful evaluation from the members that are best equipped to analyze the test results.</p>

<h2 id="resiliency-stage-2-implementation-example">Resiliency Stage 2: Implementation Example</h2>

<p>At present the <strong>Bookstore</strong> sample app has no real concept of failover or resiliency – if the application or a critical dependency fails, the entire system fails along with it.</p>

<p class="text-center"><img alt="Bookstore App Architecture" src="/gremlin-blog-posts/assets/chaos-engineering/chaos-engineering-through-staged-resiliency/stage-1/stage-1-architecture-09757f8939b8928a7e67174b1608765bba3acc766990411ec05e28a66d641805.png" class="align-center">
<em>Bookstore App Architecture</em></p>

<p>Completing <strong>Resiliency Stage 2</strong> requires testing in a non-production environment, so this forces us to improve deployment and system resiliency by moving beyond a single point of failure.  Since we’re taking advantage of AWS we <em>could</em> jump straight into implementing all the safety net features the AWS platform brings with it (e.g. auto scaling, elastic load balancing, traffic manipulation, etc).  However, going through each resiliency stage by meeting the minimal requirements provides more robust examples and lets us learn the intricacies of all components within the system.</p>

<p>Therefore, before we go through this stage we’ll be modifying the <strong>Bookstore</strong> architecture by adding a secondary staging environment.  In fact, this is a good opportunity to use a blue/green deployment strategy.  A blue/green configuration requires creating two parallel production environments.</p>

<p>As an example scenario, the <code class="highlighter-rouge">blue</code> environment is “active” and is handling production traffic.  Meanwhile, the other environment (<code class="highlighter-rouge">green</code>) is used for staging application changes.  Once the <code class="highlighter-rouge">green</code> environment has been fully tested then traffic is routed to the <code class="highlighter-rouge">green</code> environment.  <code class="highlighter-rouge">Green</code> now becomes the live production environment while <code class="highlighter-rouge">blue</code> is unused and ready for the next staging phase.  If something goes wrong during deployment to <code class="highlighter-rouge">green</code>, traffic can be quickly routed back to the still-active <code class="highlighter-rouge">blue</code> environment.</p>

<h3 id="adding-a-staging-app-environment">Adding a Staging App Environment</h3>

<ol>
  <li>
    <p>Create a new EC2 instance from the most recent launch template version.  Optionally, we can specify tags such as <code class="highlighter-rouge">Name</code> to help differentiate between the two environments.</p>

    <div class="language-bash highlighter-rouge">
<div class="highlight"><pre class="highlight"><code> aws ec2 run-instances <span class="nt">--launch-template</span> <span class="nv">LaunchTemplateName</span><span class="o">=</span>bookstore-api-ec2 <span class="se">\</span>
     <span class="nt">--tag-specifications</span> <span class="s2">"ResourceType=instance,Tags=[{Key=Name,Value=bookstore-api-green}]"</span>
</code></pre></div>    </div>
  </li>
  <li>
    <p>Verify the instance has been created by finding active instances generated from the same AMI.</p>

    <div class="language-bash highlighter-rouge">
<div class="highlight"><pre class="highlight"><code> <span class="nv">$ </span>aws ec2 describe-instances <span class="nt">--filters</span> <span class="s2">"Name=image-id,Values=ami-087ff330c90e99ac5,Name=instance-state-code,Values=16"</span> <span class="nt">--query</span> <span class="s2">"Reservations[*].Instances[*].[LaunchTime,PublicDnsName,PublicIpAddress]"</span>
 2018-11-09T04:37:32.000Z	ec2-54-188-3-235.us-west-2.compute.amazonaws.com	54.188.3.235
 2018-11-09T07:44:38.000Z	ec2-54-191-29-110.us-west-2.compute.amazonaws.com	54.191.29.110
</code></pre></div>    </div>
  </li>
  <li>
    <p>SSH into new environment.</p>

    <div class="language-bash highlighter-rouge">
<div class="highlight"><pre class="highlight"><code> ssh ec2-54-191-29-110.us-west-2.compute.amazonaws.com
</code></pre></div>    </div>
  </li>
  <li>
    <p>Pull any new application changes and restart application.</p>

    <div class="language-bash highlighter-rouge">
<div class="highlight"><pre class="highlight"><code> <span class="nv">$ </span><span class="nb">cd</span> ~/apps/bookstore_api <span class="o">&amp;&amp;</span> git pull <span class="o">&amp;&amp;</span> <span class="nb">sudo </span>systemctl restart gunicorn
 From github.com:GabeStah/bookstore_api
     0f1b811..ee6f15c  master     -&gt; origin/master
</code></pre></div>    </div>
  </li>
  <li>
    <p>Verify that each instance environment is serving a different version of the application.</p>

    <ul>
      <li>
        <p>Here we check the app version for the current production endpoint.</p>

        <div class="language-bash highlighter-rouge">
<div class="highlight"><pre class="highlight"><code>  <span class="nv">$ </span>curl bookstore.pingpublications.com/version | jq
  <span class="o">{</span>
      <span class="s2">"version"</span>: 3
  <span class="o">}</span>
</code></pre></div>        </div>
      </li>
      <li>
        <p>And for the <code class="highlighter-rouge">bookstore-api-green</code> environment.</p>

        <div class="language-bash highlighter-rouge">
<div class="highlight"><pre class="highlight"><code>  <span class="nv">$ </span>curl ec2-54-191-29-110.us-west-2.compute.amazonaws.com/version | jq
  <span class="o">{</span>
      <span class="s2">"version"</span>: 4
  <span class="o">}</span>
</code></pre></div>        </div>
      </li>
    </ul>
  </li>
</ol>

<h3 id="configuring-multi-az-rds">Configuring Multi-AZ RDS</h3>

<p>The PostgreSQL database on Amazon RDS is not resilient – if the single instance fails, the entire application goes down.  RDS provides a <a href="https://aws.amazon.com/rds/details/multi-az/" target="_blank" rel="noopener noreferrer">Multi-AZ Deployment</a> solution, which automatically creates a synchronous database replica on another Availability Zone.  In the event of a primary failure the secondary performs an automatic failover so there is little to no downtime.</p>

<p>Modifying the existing <code class="highlighter-rouge">bookstore-db</code> RDS instance so it uses a Multi-AZ Deployment is fairly simple.</p>

<ol>
  <li>
    <p>Confirm the instance is not using Multi-AZ.</p>

    <div class="language-bash highlighter-rouge">
<div class="highlight"><pre class="highlight"><code> <span class="nv">$ </span>aws rds describe-db-instances <span class="nt">--db-instance-identifier</span> bookstore-db <span class="nt">--query</span> <span class="s2">"DBInstances[*].[AvailabilityZone,MultiAZ]"</span>
 us-west-2a	False
</code></pre></div>    </div>
  </li>
  <li>
    <p>Modify the instance by passing the <code class="highlighter-rouge">multi-az</code> flag.  In this case, we always want to apply changes immediately (rather than wait for the next scheduled maintenance window).</p>

    <div class="language-bash highlighter-rouge">
<div class="highlight"><pre class="highlight"><code> aws rds modify-db-instance <span class="nt">--db-instance-identifier</span> bookstore-db <span class="nt">--multi-az</span> <span class="nt">--apply-immediately</span>
</code></pre></div>    </div>
  </li>
  <li>
    <p>It may take a few minutes for the modification to take effect.  We can check the status within the <code class="highlighter-rouge">PendingModifiedValues</code> key structure to confirm <code class="highlighter-rouge">MultiAZ</code> is waiting to be modified.</p>

    <div class="language-bash highlighter-rouge">
<div class="highlight"><pre class="highlight"><code> <span class="nv">$ </span>aws rds describe-db-instances <span class="nt">--db-instance-identifier</span> bookstore-db <span class="nt">--query</span> <span class="s2">"DBInstances[*].PendingModifiedValues.[MultiAZ]"</span>
 True
</code></pre></div>    </div>
  </li>
  <li>
    <p>After about 10 minutes we can check the status once again to confirm that a Mutli-AZ Deployment is now active.</p>

    <div class="language-bash highlighter-rouge">
<div class="highlight"><pre class="highlight"><code> <span class="nv">$ </span>aws rds describe-db-instances <span class="nt">--db-instance-identifier</span> bookstore-db <span class="nt">--query</span> <span class="s2">"DBInstances[*].[AvailabilityZone,MultiAZ]"</span>
 us-west-2a	True
</code></pre></div>    </div>
  </li>
</ol>

<h3 id="amazon-s3-cross-region-replication">Amazon S3 Cross-Region Replication</h3>

<p>The last critical dependency for the <strong>Bookstore</strong> app is the CDN, which relies on Amazon S3.  While Amazon S3 is a extremely resilient system and not prone to downtime, there is still some precedent for Amazon S3 failure.  Luckily, the service has the ability to automatically replicate objects between buckets within different AWS regions.</p>

<p>To accomplish this we’re working around a quirk with Amazon S3 bucket naming and DNS routing.  Specifically, a CNAME DNS name must <em>exactly match</em> a referenced Amazon S3 bucket name.  Therefore, we’ll continue using the <code class="highlighter-rouge">cdn.bookstore.pingpublications.com.s3.amazonaws.com</code> Amazon S3 bucket (and Route53 CNAME record), but this bucket is now the <em>secondary</em> CDN.  A new Amazon S3 bucket named <code class="highlighter-rouge">cdn-primary.bookstore.pingpublications.com</code> is now the <em>primary</em> CDN bucket.</p>

<p>We then create a CloudFront endpoint that points to the <code class="highlighter-rouge">cdn-primary</code> bucket, but uses the DNS CNAME <code class="highlighter-rouge">cdn.bookstore.pingpublications.com</code>.  From there, Amazon Route53 failover properly handles requests based on whichever Amazon S3 bucket is available.  This automates the CDN failover process.</p>

<ol>
  <li>
    <p>Start by creating an Amazon CloudFront Distribution.  The fields we need to set are as follows.</p>

    <ul>
      <li>
<strong>Origin Domain Name</strong>: This must be set the <em>primary</em> Amazon S3 bucket (<code class="highlighter-rouge">cdn-primary.bookstore.pingpublications.com.s3-us-west-2.amazonaws.com</code>).</li>
      <li>
<strong>Alternate Domain Names (CNAMEs)</strong>: This should point to the root CDN endpoint (<code class="highlighter-rouge">cdn.bookstore.pingpublications.com</code>).</li>
    </ul>
  </li>
  <li>
    <p>Create a Amazon Route53 Health Check to check the health of the <em>primary</em> Amazon S3 bucket, which is behind the CloudFront endpoint created above.</p>

    <div class="language-bash highlighter-rouge">
<div class="highlight"><pre class="highlight"><code> <span class="nv">$ </span>aws route53 create-health-check <span class="nt">--caller-reference</span> BookstoreCloudfront <span class="nt">--output</span> json <span class="se">\</span>
 <span class="nt">--health-check-config</span> <span class="s1">'{
     "FullyQualifiedDomainName": "dqno94z16p2mg.cloudfront.net",
     "ResourcePath": "/static/status.json",
     "Type": "HTTP"
 }'</span> <span class="se">\</span>
 <span class="nt">--query</span> <span class="s2">"{Id: HealthCheck.Id}"</span>
 <span class="o">{</span>
     <span class="s2">"Id"</span>: <span class="s2">"352ef27f-213e-4dae-983e-62fd048ea7be"</span>
 <span class="o">}</span>
</code></pre></div>    </div>

    <p class="notice--tip"><strong>TIP</strong>: We’ve added a <code class="highlighter-rouge">status.json</code> file to our static asset collection, which we’ll use to confirm the online status of both CDN buckets, as well as determine which bucket is currently serving our content.</p>
  </li>
  <li>
    <p>Create another Amazon Route53 Health Check to check the status of the <em>secondary</em> Amazon S3 bucket (<code class="highlighter-rouge">cdn.bookstore.pingpublications.com.s3.amazonaws.com</code>).</p>

    <div class="language-bash highlighter-rouge">
<div class="highlight"><pre class="highlight"><code> <span class="nv">$ </span>aws route53 create-health-check <span class="nt">--caller-reference</span> BookstoreS3 <span class="nt">--output</span> json <span class="se">\</span>
 <span class="nt">--health-check-config</span> <span class="s1">'{
     "FullyQualifiedDomainName": "cdn.bookstore.pingpublications.com.s3.amazonaws.com",
     "ResourcePath": "/static/status.json",
     "Type": "HTTP"
 }'</span> <span class="se">\</span>
 <span class="nt">--query</span> <span class="s2">"{Id: HealthCheck.Id}"</span>
 <span class="o">{</span>
     <span class="s2">"Id"</span>: <span class="s2">"e7fce91f-c82a-460f-b247-58c35790e39d"</span>
 <span class="o">}</span>
</code></pre></div>    </div>
  </li>
  <li>
    <p>Create a third Amazon Route53 Health Check that combines the two previous health checks.  This combined health check is monitored by Amazon Route53 and automatically triggers failover from the primary to secondary CDN when the check fails.  We need to pass the two health check <code class="highlighter-rouge">Ids</code> created above into this combined health check configuration.</p>

    <div class="language-bash highlighter-rouge">
<div class="highlight"><pre class="highlight"><code> <span class="nv">$ </span>aws route53 create-health-check <span class="nt">--caller-reference</span> BookstoreCDN <span class="nt">--output</span> json <span class="nt">--health-check-config</span> <span class="s1">'{
     "HealthThreshold": 2,
     "Type": "CALCULATED",
     "ChildHealthChecks": [
         "e7fce91f-c82a-460f-b247-58c35790e39d",
         "352ef27f-213e-4dae-983e-62fd048ea7be"
     ]
 }'</span>
 <span class="o">{</span>
     <span class="s2">"HealthCheck"</span>: <span class="o">{</span>
         <span class="s2">"HealthCheckConfig"</span>: <span class="o">{</span>
             <span class="s2">"HealthThreshold"</span>: 2,
             <span class="s2">"Type"</span>: <span class="s2">"CALCULATED"</span>,
             <span class="s2">"ChildHealthChecks"</span>: <span class="o">[</span>
                 <span class="s2">"352ef27f-213e-4dae-983e-62fd048ea7be"</span>,
                 <span class="s2">"e7fce91f-c82a-460f-b247-58c35790e39d"</span>
             <span class="o">]</span>,
             <span class="s2">"Inverted"</span>: <span class="nb">false</span>
         <span class="o">}</span>,
         <span class="s2">"CallerReference"</span>: <span class="s2">"BookstoreCDN"</span>,
         <span class="s2">"HealthCheckVersion"</span>: 1,
         <span class="s2">"Id"</span>: <span class="s2">"99d5b3a0-7709-4553-934f-d0ac7bcd2eb3"</span>
     <span class="o">}</span>,
 <span class="o">}</span>
</code></pre></div>    </div>
  </li>
  <li>
    <p>Finally, verify all CDN endpoints behave correctly and point to the proper Amazon S3 bucket.</p>

    <ul>
      <li>
        <p>Start by checking the primary Amazon S3 bucket.</p>

        <div class="language-bash highlighter-rouge">
<div class="highlight"><pre class="highlight"><code>  <span class="nv">$ </span>curl http://cdn-primary.bookstore.pingpublications.com.s3-us-west-2.amazonaws.com/static/status.json
  <span class="o">{</span>
      <span class="s2">"online"</span>: <span class="nb">true</span>,
      <span class="s2">"cdn"</span>: <span class="s2">"primary"</span>
  <span class="o">}</span>
</code></pre></div>        </div>
      </li>
      <li>
        <p>The CloudFront endpoint routes to the primary bucket above.</p>

        <div class="language-bash highlighter-rouge">
<div class="highlight"><pre class="highlight"><code>  <span class="nv">$ </span>curl http://dqno94z16p2mg.cloudfront.net/static/status.json
  <span class="o">{</span>
      <span class="s2">"online"</span>: <span class="nb">true</span>,
      <span class="s2">"cdn"</span>: <span class="s2">"primary"</span>
  <span class="o">}</span>
</code></pre></div>        </div>
      </li>
      <li>
        <p>The last part of the chain is the primary CDN endpoint, which routes to the CloudFront endpoint, and then onto the primary Amazon S3 bucket itself.</p>

        <div class="language-bash highlighter-rouge">
<div class="highlight"><pre class="highlight"><code>  <span class="nv">$ </span>curl http://cdn.bookstore.pingpublications.com/static/status.json
  <span class="o">{</span>
      <span class="s2">"online"</span>: <span class="nb">true</span>,
      <span class="s2">"cdn"</span>: <span class="s2">"primary"</span>
  <span class="o">}</span>
</code></pre></div>        </div>
      </li>
      <li>
        <p>Finally, the secondary Amazon S3 bucket is properly retrieving the secondary static content.</p>

        <div class="language-bash highlighter-rouge">
<div class="highlight"><pre class="highlight"><code>  <span class="nv">$ </span>curl http://cdn.bookstore.pingpublications.com.s3.amazonaws.com/static/status.json
  <span class="o">{</span>
      <span class="s2">"online"</span>: <span class="nb">true</span>,
      <span class="s2">"cdn"</span>: <span class="s2">"secondary"</span>
  <span class="o">}</span>
</code></pre></div>        </div>
      </li>
    </ul>
  </li>
</ol>

<p>The app is now ready for failure testing.  Here is the updated diagram showing the <strong>Bookstore</strong> app architecture for <strong>Resiliency Stage 2</strong>.</p>

<p class="text-center"><img alt="Stage 2 - Architecture" src="/gremlin-blog-posts/assets/chaos-engineering/chaos-engineering-through-staged-resiliency/stage-2/stage-2-architecture-eeb5feeb193e86e0a7004de150b11cf20e08a802a02a5b1cb1e6172a4b76e5e3.png" class="align-center">
<em>Bookstore App Architecture</em></p>

<h3 id="perform-critical-dependency-failure-tests-in-non-production-1">Perform Critical Dependency Failure Tests in Non-Production</h3>

<ul>
  <li>Status: <strong>Complete</strong>
</li>
</ul>

<h4 id="database-failure-test">Database Failure Test</h4>

<p>With Multi-AZ configured on the Amazon RDS instance we are now ready to perform a failover test for this critical dependency.</p>

<ol>
  <li>
    <p>Confirm the status and current Availability Zone of the <code class="highlighter-rouge">bookstore-db</code> instance with the <code class="highlighter-rouge">describe-db-instances</code> CLI command.</p>

    <div class="language-bash highlighter-rouge">
<div class="highlight"><pre class="highlight"><code> <span class="nv">$ </span>aws rds describe-db-instances <span class="nt">--db-instance-identifier</span> bookstore-db <span class="nt">--output</span> json <span class="nt">--query</span> <span class="s2">"DBInstances[*].{Id:DBInstanceIdentifier, AZ:AvailabilityZone, SecondaryAZ:SecondaryAvailabilityZone, Endpoint:Endpoint.Address, Status:DBInstanceStatus}"</span>
 <span class="o">[</span>
     <span class="o">{</span>
         <span class="s2">"SecondaryAZ"</span>: <span class="s2">"us-west-2b"</span>,
         <span class="s2">"Status"</span>: <span class="s2">"available"</span>, 
         <span class="s2">"AZ"</span>: <span class="s2">"us-west-2a"</span>, 
         <span class="s2">"Id"</span>: <span class="s2">"bookstore-db"</span>, 
         <span class="s2">"Endpoint"</span>: <span class="s2">"bookstore-db.cvajeopcjvda.us-west-2.rds.amazonaws.com"</span>
     <span class="o">}</span>
 <span class="o">]</span>
</code></pre></div>    </div>
  </li>
  <li>
    <p>Perform a manual reboot via <code class="highlighter-rouge">reboot-db-instance</code>.  We’re also <strong>forcing</strong> a failover with the <code class="highlighter-rouge">--force-failover</code> flag.</p>

    <div class="language-bash highlighter-rouge">
<div class="highlight"><pre class="highlight"><code> <span class="nv">$ </span>aws rds reboot-db-instance <span class="nt">--db-instance-identifier</span> bookstore-db <span class="nt">--force-failover</span> <span class="nt">--output</span> json <span class="nt">--query</span> <span class="s2">"DBInstance.{Id:DBInstanceIdentifier, AZ:AvailabilityZone, SecondaryAZ:SecondaryAvailabilityZone, Endpoint:Endpoint.Address, Status:DBInstanceStatus}"</span>
 <span class="o">{</span>
     <span class="s2">"SecondaryAZ"</span>: <span class="s2">"us-west-2b"</span>, 
     <span class="s2">"Status"</span>: <span class="s2">"rebooting"</span>, 
     <span class="s2">"AZ"</span>: <span class="s2">"us-west-2a"</span>, 
     <span class="s2">"Id"</span>: <span class="s2">"bookstore-db"</span>, 
     <span class="s2">"Endpoint"</span>: <span class="s2">"bookstore-db.cvajeopcjvda.us-west-2.rds.amazonaws.com"</span>
 <span class="o">}</span>
</code></pre></div>    </div>
  </li>
  <li>
    <p>Even though the primary instance is currently <code class="highlighter-rouge">Status: rebooting</code>, both the production and secondary <strong>Bookstore</strong> environments are able to connect to <code class="highlighter-rouge">db.bookstore.pingpublications.com</code>, which is pointed to the <code class="highlighter-rouge">bookstore-db.cvajeopcjvda.us-west-2.rds.amazonaws.com</code> endpoint.</p>

    <div class="language-bash highlighter-rouge">
<div class="highlight"><pre class="highlight"><code> <span class="nv">$ </span>curl bookstore.pingpublications.com/books/ | jq
 <span class="o">[</span>
     <span class="o">{</span>
         <span class="s2">"url"</span>: <span class="s2">"http://bookstore.pingpublications.com/books/1/"</span>,
         <span class="s2">"authors"</span>: <span class="o">[</span>
             <span class="o">{</span>
                 <span class="s2">"url"</span>: <span class="s2">"http://bookstore.pingpublications.com/authors/1/"</span>,
                 <span class="s2">"birth_date"</span>: <span class="s2">"1947-09-21"</span>,
                 <span class="s2">"first_name"</span>: <span class="s2">"Stephen"</span>,
                 <span class="s2">"last_name"</span>: <span class="s2">"King"</span>
             <span class="o">}</span>
         <span class="o">]</span>,
         <span class="s2">"publication_date"</span>: <span class="s2">"1978-09-01"</span>,
         <span class="s2">"title"</span>: <span class="s2">"The Stand"</span>
     <span class="o">}</span>
 <span class="o">]</span>
</code></pre></div>    </div>

    <div class="language-bash highlighter-rouge">
<div class="highlight"><pre class="highlight"><code> <span class="nv">$ </span>curl ec2-54-191-29-110.us-west-2.compute.amazonaws.com/books/ | jq
 <span class="o">[</span>
     <span class="o">{</span>
         <span class="s2">"url"</span>: <span class="s2">"http://ec2-54-191-29-110.us-west-2.compute.amazonaws.com/books/1/"</span>,
         <span class="s2">"authors"</span>: <span class="o">[</span>
             <span class="o">{</span>
                 <span class="s2">"url"</span>: <span class="s2">"http://ec2-54-191-29-110.us-west-2.compute.amazonaws.com/authors/1/"</span>,
                 <span class="s2">"birth_date"</span>: <span class="s2">"1947-09-21"</span>,
                 <span class="s2">"first_name"</span>: <span class="s2">"Stephen"</span>,
                 <span class="s2">"last_name"</span>: <span class="s2">"King"</span>
             <span class="o">}</span>
         <span class="o">]</span>,
         <span class="s2">"publication_date"</span>: <span class="s2">"1978-09-01"</span>,
         <span class="s2">"title"</span>: <span class="s2">"The Stand"</span>
     <span class="o">}</span>
 <span class="o">]</span>
</code></pre></div>    </div>

    <p>Amazon RDS Multi-AZ <a href="https://docs.aws.amazon.com/AmazonRDS/latest/UserGuide/USER_RebootInstance.html" target="_blank" rel="noopener noreferrer">automatically</a> switches to the secondary replica on the other Availability Zone and reroutes the endpoint for us.</p>
  </li>
  <li>
    <p>Once the reboot completes, query the <code class="highlighter-rouge">bookstore-db</code> instance to confirm that it has swapped the active instance to the other Availability Zone.</p>

    <div class="language-bash highlighter-rouge">
<div class="highlight"><pre class="highlight"><code> <span class="nv">$ </span>aws rds describe-db-instances <span class="nt">--db-instance-identifier</span> bookstore-db <span class="nt">--output</span> json <span class="nt">--query</span> <span class="s2">"DBInstances[*].{Id:DBInstanceIdentifier, AZ:AvailabilityZone, SecondaryAZ:SecondaryAvailabilityZone, Endpoint:Endpoint.Address, Status:DBInstanceStatus}"</span>
 <span class="o">[</span>
     <span class="o">{</span>
         <span class="s2">"SecondaryAZ"</span>: <span class="s2">"us-west-2a"</span>, 
         <span class="s2">"Status"</span>: <span class="s2">"available"</span>, 
         <span class="s2">"AZ"</span>: <span class="s2">"us-west-2b"</span>, 
         <span class="s2">"Id"</span>: <span class="s2">"bookstore-db"</span>, 
         <span class="s2">"Endpoint"</span>: <span class="s2">"bookstore-db.cvajeopcjvda.us-west-2.rds.amazonaws.com"</span>
     <span class="o">}</span>
 <span class="o">]</span>
</code></pre></div>    </div>
  </li>
  <li>
    <p>Manually confirm the <strong>Bookstore</strong> API remains connected to the <code class="highlighter-rouge">bookstore-db</code> instance replica.</p>

    <div class="language-bash highlighter-rouge">
<div class="highlight"><pre class="highlight"><code> <span class="nv">$ </span>curl bookstore.pingpublications.com/books/ | jq
 <span class="o">[</span>
     <span class="o">{</span>
         <span class="s2">"url"</span>: <span class="s2">"http://bookstore.pingpublications.com/books/1/"</span>,
         <span class="s2">"authors"</span>: <span class="o">[</span>
             <span class="o">{</span>
                 <span class="s2">"url"</span>: <span class="s2">"http://bookstore.pingpublications.com/authors/1/"</span>,
                 <span class="s2">"birth_date"</span>: <span class="s2">"1947-09-21"</span>,
                 <span class="s2">"first_name"</span>: <span class="s2">"Stephen"</span>,
                 <span class="s2">"last_name"</span>: <span class="s2">"King"</span>
             <span class="o">}</span>
         <span class="o">]</span>,
         <span class="s2">"publication_date"</span>: <span class="s2">"1978-09-01"</span>,
         <span class="s2">"title"</span>: <span class="s2">"The Stand"</span>
     <span class="o">}</span>
 <span class="o">]</span>
</code></pre></div>    </div>
  </li>
</ol>

<h4 id="cdn-failure-test">CDN Failure Test</h4>

<p>This test ensures that the primary CDN endpoint (<code class="highlighter-rouge">cdn.bookstore.pingpublications.com</code>) performs an automatic failover to the secondary Amazon S3 bucket when the Route53 Health Check fails.</p>

<ol>
  <li>
    <p>Retrieve appropriate Health Check <code class="highlighter-rouge">Ids</code>.</p>

    <div class="language-bash highlighter-rouge">
<div class="highlight"><pre class="highlight"><code> <span class="nv">$ </span>aws route53 list-health-checks <span class="nt">--output</span> json
 <span class="o">{</span>
     <span class="s2">"HealthChecks"</span>: <span class="o">[</span>
         <span class="o">{</span>
             <span class="s2">"HealthCheckConfig"</span>: <span class="o">{</span>
                 <span class="s2">"HealthThreshold"</span>: 2, 
                 <span class="s2">"Type"</span>: <span class="s2">"CALCULATED"</span>, 
                 <span class="s2">"ChildHealthChecks"</span>: <span class="o">[</span>
                     <span class="s2">"57a1606e-df1e-43d0-b6d5-e04bf3d789ff"</span>, 
                     <span class="s2">"e4a34329-26c3-4dbe-bec7-4afba94bd487"</span>
                 <span class="o">]</span>, 
                 <span class="s2">"Inverted"</span>: <span class="nb">false</span>
             <span class="o">}</span>, 
             <span class="s2">"HealthCheckVersion"</span>: 2, 
             <span class="s2">"Id"</span>: <span class="s2">"1b01881d-a658-4d8e-86c9-8d5329d0bfcc"</span>
         <span class="o">}</span>
     <span class="o">]</span>
 <span class="o">}</span>
</code></pre></div>    </div>
  </li>
  <li>
    <p>Invert the Health Check, so that a normally healthy value is now considered unhealthy.</p>

    <div class="language-bash highlighter-rouge">
<div class="highlight"><pre class="highlight"><code> <span class="nv">$ </span>aws route53 update-health-check <span class="nt">--output</span> json <span class="nt">--health-check-id</span> 1b01881d-a658-4d8e-86c9-8d5329d0bfcc <span class="nt">--inverted</span>
 <span class="o">{</span>
     <span class="s2">"HealthCheck"</span>: <span class="o">{</span>
         <span class="s2">"HealthCheckConfig"</span>: <span class="o">{</span>
             <span class="s2">"HealthThreshold"</span>: 2, 
             <span class="s2">"Type"</span>: <span class="s2">"CALCULATED"</span>, 
             <span class="s2">"ChildHealthChecks"</span>: <span class="o">[</span>
                 <span class="s2">"57a1606e-df1e-43d0-b6d5-e04bf3d789ff"</span>, 
                 <span class="s2">"e4a34329-26c3-4dbe-bec7-4afba94bd487"</span>
             <span class="o">]</span>, 
             <span class="s2">"Inverted"</span>: <span class="nb">true</span>
         <span class="o">}</span>, 
         <span class="s2">"HealthCheckVersion"</span>: 3, 
         <span class="s2">"Id"</span>: <span class="s2">"1b01881d-a658-4d8e-86c9-8d5329d0bfcc"</span>
     <span class="o">}</span>
 <span class="o">}</span>
</code></pre></div>    </div>
  </li>
  <li>
    <p>After a moment for the Health Check status to update, check the primary CDN endpoint to ensure that it has automatically failed over to the secondary CDN Amazon S3 bucket.</p>

    <div class="language-bash highlighter-rouge">
<div class="highlight"><pre class="highlight"><code> <span class="nv">$ </span>curl http://cdn.bookstore.pingpublications.com/static/status.json
 <span class="o">{</span>
     <span class="s2">"online"</span>: <span class="nb">true</span>,
     <span class="s2">"cdn"</span>: <span class="s2">"secondary"</span>
 <span class="o">}</span>
</code></pre></div>    </div>
  </li>
  <li>
    <p>Revert the previous Health Check inversion.</p>

    <div class="language-bash highlighter-rouge">
<div class="highlight"><pre class="highlight"><code> <span class="nv">$ </span>aws route53 update-health-check <span class="nt">--output</span> json <span class="nt">--health-check-id</span> 1b01881d-a658-4d8e-86c9-8d5329d0bfcc <span class="nt">--no-inverted</span>
 <span class="o">{</span>
     <span class="s2">"HealthCheck"</span>: <span class="o">{</span>
         <span class="s2">"HealthCheckConfig"</span>: <span class="o">{</span>
             <span class="s2">"HealthThreshold"</span>: 2, 
             <span class="s2">"Type"</span>: <span class="s2">"CALCULATED"</span>, 
             <span class="s2">"ChildHealthChecks"</span>: <span class="o">[</span>
                 <span class="s2">"57a1606e-df1e-43d0-b6d5-e04bf3d789ff"</span>, 
                 <span class="s2">"e4a34329-26c3-4dbe-bec7-4afba94bd487"</span>
             <span class="o">]</span>, 
             <span class="s2">"Inverted"</span>: <span class="nb">false</span>
         <span class="o">}</span>, 
         <span class="s2">"HealthCheckVersion"</span>: 4, 
         <span class="s2">"Id"</span>: <span class="s2">"1b01881d-a658-4d8e-86c9-8d5329d0bfcc"</span>
     <span class="o">}</span>
 <span class="o">}</span>
</code></pre></div>    </div>
  </li>
  <li>
    <p>Verify that the primary CDN endpoint points back to the primary Amazon S3 bucket.</p>

    <div class="language-bash highlighter-rouge">
<div class="highlight"><pre class="highlight"><code> <span class="nv">$ </span>curl http://cdn.bookstore.pingpublications.com/static/status.json
 <span class="o">{</span>
     <span class="s2">"online"</span>: <span class="nb">true</span>,
     <span class="s2">"cdn"</span>: <span class="s2">"primary"</span>
 <span class="o">}</span>
</code></pre></div>    </div>
  </li>
</ol>

<h3 id="publish-test-results-1">Publish Test Results</h3>

<ul>
  <li>Status: <strong>Complete</strong>
</li>
</ul>

<p>Now that both critical dependencies have been tested we’ll publish the results to the entire team, so everyone can keep tabs on the resiliency progress of the project.</p>

<p>In this case, both the <a href="#database-failure-test">Database Failure Test</a> and <a href="#cdn-failure-test">CDN Failure Test</a> were performed manually within less than 15 minutes.  Therefore, we can safely update some of the playbook information created during the prerequisite phase of <a href="https://www.gremlin.com/blog/chaos-engineering-through-staged-resiliency-stage-1" target="_blank" rel="noopener noreferrer">Resiliency Stage 1</a> and reduce the critical dependency RTO/RPO targets significantly.  Even a conservative estimate of <code class="highlighter-rouge">1 hour</code> is a massive improvement to resiliency and reduction to potential support costs, and we’re only through the second Stage!</p>

<table>
  <thead>
    <tr>
      <th>Dependency</th>
      <th>Criticality Period</th>
      <th>Manual Workaround</th>
      <th>RTO</th>
      <th>RPO</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>Database</td>
      <td>Always</td>
      <td>Manual verification of Amazon RDS Multi-AZ secondary instance failover.</td>
      <td>1</td>
      <td>1</td>
    </tr>
    <tr>
      <td>CDN</td>
      <td>Always</td>
      <td>Manual verification of secondary Amazon S3 bucket failover DNS routing.</td>
      <td>1</td>
      <td>1</td>
    </tr>
  </tbody>
</table>

<h2 id="resiliency-stage-2-completion">Resiliency Stage 2 Completion</h2>

<p>Once all critical dependencies have been failure tested and those test results have been disseminated throughout the team then <strong>Resiliency Stage 2</strong> is complete!  Your system should now have well-defined recovery playbooks and been manually tested for both failover and critical dependency failures.  In <a href="https://www.gremlin.com/blog/chaos-engineering-through-staged-resiliency-stage-3" target="_blank" rel="noopener noreferrer">Chaos Engineering Through Staged Resiliency - Stage 3</a> we’ll look at the transition into automating some of these tests and performing them at regular intervals.</p>


        
      </section>

      <footer class="page__meta">
        
        
  


  
  
  

  <p class="page__taxonomy">
    <strong><i class="fas fa-fw fa-tags" aria-hidden="true"></i> Tags: </strong>
    <span itemprop="keywords">
    
      
      
      <a href="/gremlin-blog-posts/tags/#resiliency" class="page__taxonomy-item" rel="tag">resiliency</a><span class="sep">, </span>
    
      
      
      <a href="/gremlin-blog-posts/tags/#staging" class="page__taxonomy-item" rel="tag">staging</a>
    
    </span>
  </p>




  


  
  
  

  <p class="page__taxonomy">
    <strong><i class="fas fa-fw fa-folder-open" aria-hidden="true"></i> Categories: </strong>
    <span itemprop="keywords">
    
      
      
      <a href="/gremlin-blog-posts/categories/#chaos-engineering" class="page__taxonomy-item" rel="tag">chaos-engineering</a>
    
    </span>
  </p>


        
          <p class="page__date"><strong><i class="fas fa-fw fa-calendar-alt" aria-hidden="true"></i> Updated:</strong> <time datetime="2018-10-11T00:00:00-07:00">October 11, 2018</time></p>
        
      </footer>

      

      
  <nav class="pagination">
    
      <a href="/gremlin-blog-posts/chaos-engineering/chaos-engineering-through-staged-resiliency-stage-1/" class="pagination--pager" title="Chaos Engineering Through Staged Resiliency - Stage 1
">Previous</a>
    
    
      <a href="/gremlin-blog-posts/chaos-engineering/chaos-engineering-through-staged-resiliency-stage-3/" class="pagination--pager" title="Chaos Engineering Through Staged Resiliency - Stage 3
">Next</a>
    
  </nav>

    </div>

    
  </article>

  
  
    <div class="page__related">
      <h4 class="page__related-title">You may also enjoy</h4>
      <div class="grid__wrapper">
        
          



<div class="grid__item">
  <article class="archive__item" itemscope itemtype="http://schema.org/CreativeWork">
    
    <h2 class="archive__item-title" itemprop="headline">
      
        <a href="/gremlin-blog-posts/chaos-engineering/chaos-engineering-through-staged-resiliency-stage-3/" rel="permalink">Chaos Engineering Through Staged Resiliency - Stage 3
</a>
      
    </h2>
    
      <p class="page__meta"><i class="far fa-clock" aria-hidden="true"></i> 




  3 minute read
</p>
    
    <p class="archive__item-excerpt" itemprop="description">
</p>
  </article>
</div>
        
          



<div class="grid__item">
  <article class="archive__item" itemscope itemtype="http://schema.org/CreativeWork">
    
    <h2 class="archive__item-title" itemprop="headline">
      
        <a href="/gremlin-blog-posts/chaos-engineering/chaos-engineering-through-staged-resiliency-stage-1/" rel="permalink">Chaos Engineering Through Staged Resiliency - Stage 1
</a>
      
    </h2>
    
      <p class="page__meta"><i class="far fa-clock" aria-hidden="true"></i> 




  21 minute read
</p>
    
    <p class="archive__item-excerpt" itemprop="description">
</p>
  </article>
</div>
        
          



<div class="grid__item">
  <article class="archive__item" itemscope itemtype="http://schema.org/CreativeWork">
    
    <h2 class="archive__item-title" itemprop="headline">
      
        <a href="/gremlin-blog-posts/gremlin/content-pitches/" rel="permalink">Content Pitches
</a>
      
    </h2>
    
      <p class="page__meta"><i class="far fa-clock" aria-hidden="true"></i> 




  11 minute read
</p>
    
    <p class="archive__item-excerpt" itemprop="description">Content pitches and ideas for Gremlin.
</p>
  </article>
</div>
        
          



<div class="grid__item">
  <article class="archive__item" itemscope itemtype="http://schema.org/CreativeWork">
    
    <h2 class="archive__item-title" itemprop="headline">
      
        <a href="/gremlin-blog-posts/chaos-engineering/migrating-cloud-chaotic-embrace/" rel="permalink">Migrating to the Cloud Is Chaotic. Embrace It.
</a>
      
    </h2>
    
      <p class="page__meta"><i class="far fa-clock" aria-hidden="true"></i> 




  22 minute read
</p>
    
    <p class="archive__item-excerpt" itemprop="description">Why organizations planning to migrate to the cloud should embrace Chaos Engineering as a thoughtful strategy to avoid pain down the road.
</p>
  </article>
</div>
        
      </div>
    </div>
  
  
</div>
    </div>

    

    <div class="page__footer">
      <footer>
        
        <div class="page__footer-follow">
  <ul class="social-icons">
    
      <li><strong>Follow:</strong></li>
    
    
    
    
    
    
    <li><a href="/gremlin-blog-posts/feed.xml"><i class="fas fa-fw fa-rss-square" aria-hidden="true"></i> Feed</a></li>
  </ul>
</div>

<div class="page__footer-copyright">© 2018 Gabe Wyatt</div>

      </footer>
    </div>

    
  <script src="/gremlin-blog-posts/assets/js/main.min.js"></script>
  <script src="https://use.fontawesome.com/releases/v5.2.0/js/all.js"></script>








  </body>
</html>